<style>
  .form-signin {
    border: none;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
    border-radius: 10px;
    max-width: 500px;
    width: 100%;
    padding: 4rem 0;
    background-color: #202020;
    display: flex;
    flex-flow: column wrap;
    align-items: center;
  }

  .login-button {
    background-color: #17502b;
  }

  .login-button:hover {
    background-color: #0d6e3a;
  }

  .inputs {
    border-bottom: #1ED760 solid 4px;
    transition: all 400ms;
    max-width: 300px;
    width: 100%;
  }

  .inputs:focus {
    box-shadow: none;
    border-color: #1ED760;
  }

  .header {
    text-align: center;
  }
</style>

<main class="d-flex align-items-center justify-content-center min-vh-100 py-4 bg-body-tertiary">
  <div class="form-signin">
    <form class="d-flex flex-column gap-4" style="max-width: 300px;" id="login-form" action="/login" method="post">
      <h1 class="header h3 mb-3 fw-normal">Connexion</h1>

      <div class="form-floating">
        <input type="email" class="form-control inputs" id="email" placeholder="name@example.com"
          aria-label="Email d’utilisateur" name="email" required />
        <label for="email">Email d’utilisateur</label>
        <div class="alert alert-danger d-flex mt-3" role="alert" id="emailError" style="display: none !important;">
          <div>
            <i class="bi bi-exclamation-triangle me-2"></i> Adresse E-Mail Invalide.
          </div>
        </div>
      </div>
      <div class="form-floating">
        <input type="password" class="form-control inputs" id="password" placeholder="Password"
          aria-label="Mot de passe" name="password" required />
        <label for="password">Mot de passe</label>
        <div class="alert alert-danger d-flex mt-3" role="alert" id="passwordError" style="display: none !important;">
          <div>
            <i class="bi bi-exclamation-triangle me-2"></i> Le champ du mot de passe est vide.
          </div>
        </div>
      </div>
      <button class="btn login-button w-100 py-2" type="submit">Se connecter</button>
    </form>
  </div>
</main>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const loginForm = document.getElementById("login-form");
    const emailField = document.getElementById("email");
    const passwordField = document.getElementById("password");
    const emailError = document.getElementById("emailError");
    const passwordError = document.getElementById("passwordError");

    loginForm.addEventListener("submit", function (event) {
      let isValid = true;

      // Email validationzzz
      if (!validateEmail(emailField.value)) {
        emailError.style.display = "block";
        isValid = false;
      } else {
        emailError.style.display = "none";
      }

      // Password validation
      if (!passwordField.value.trim()) {
        passwordError.style.display = "block";
        isValid = false;
      } else {
        passwordError.style.display = "none";
      }

      if (!isValid) {
        event.preventDefault(); // Prevent form submission if validation fails
      }
    });

    // Email validation function
    function validateEmail(email) {
      const re = /\S+@\S+\.\S+/;
      return re.test(email);
    }
  });
</script>